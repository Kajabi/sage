/* ==================================================
  ** sage_table
  type: element

================================================== */

$-table-border: rem(1px) solid sage-color(grey);
$-table-heading-color: sage-color(grey, 400);
$-table-cell-padding: sage-spacing(xs) sage-spacing(sm);
$-table-overflow-indicator-width: 1rem;
$-table-overflow-indicator-color: sage-color(white);
$-table-overflow-indicator-opacity: 0.9;

:root {
  --table-cell-padding: #{sage-spacing(xs)} #{sage-spacing(sm)};
}

.sage-table {
  table-layout: initial;
  width: 100%;

  thead {
    color: $-table-heading-color;
    border-bottom: $-table-border;

    td {
      @extend %t-sage-heading-6;
    }
  }

  tbody {
    tr {
      border-bottom: $-table-border;
    }
  }

  td {
    @extend %t-sage-body-small;

    padding: $-table-cell-padding;
    padding: var(--table-cell-padding);
    line-height: sage-line-height(md);

    &:first-child {
      padding-left: 0;
    }

    &:last-child {
      padding-right: 0;
    }
  }

  @media screen and (min-width: sage-breakpoint(md-min)) {
    --table-cell-padding: #{sage-spacing(sm)} #{sage-spacing(md)};
  }
}

.sage-table--striped {
  tbody {
    tr:nth-child(odd) {
      background-color: sage-color(grey, 100);
    }
  }
}

// Allows overflow scrolling when content exceeds container width
.sage-table--responsive {
  position: relative;

  &::after {
    content: "";
    display: block;
    position: absolute;
    top: 0;
    right: 0;
    height: 100%;
    width: $-table-overflow-indicator-width;
    background: linear-gradient(90deg, transparent 0%, rgba($-table-overflow-indicator-color, $-table-overflow-indicator-opacity) 100%);
  }
}

// Additional wrapper div required for responsive tables
.sage-table__wrapper {
  .sage-table--responsive & {
    overflow: hidden;
    overflow-x: auto;
    padding-right: ($-table-overflow-indicator-width / 2);
    -webkit-overflow-scrolling: touch;
  }
}

