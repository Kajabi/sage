/* ==================================================
  ** label
  type: element


================================================== */

$-label-padding: 0 sage-spacing(xs) !default;
$-label-border-radius: sage-border(radius) !default;
$-label-inset-border: 0 0 0 1px inset;
$-label-primary-icon-background-accent: #3e92ee;
$-label-warning-background-accent: #f9df8b;
$-label-danger-background-accent: #f3988c;
$-label-danger-icon-background-accent: #da665e;

.sage-label {
  display: inline-flex;
  align-items: center;
  position: relative;
}

.sage-label__value {
  @extend %t-sage-body-small-semi;

  appearance: none;
  display: flex;
  align-items: center;
  padding: $-label-padding;
  white-space: nowrap;
  border-radius: $-label-border-radius;
  border: unset;
  outline: none;

  &:hover,
  &:focus,
  &:active {
    outline: none;
  }

  .sage-btn {
    width: 28px;
  }
}

.sage-label--truncate {
  overflow: hidden;
  text-overflow: ellipsis;
}

@each $-color-name, $-color-settings in $sage-color-combos {
  $-color-modifier: ".sage-label--#{$-color-name}";

  #{$-color-modifier} .sage-label__value {
    color: sage-color-combo($-color-name, default, foreground);
    background-color: sage-color-combo($-color-name, default, background);
  }

  #{$-color-modifier}.sage-label--subtle .sage-label__value {
    color: sage-color-combo($-color-name, subtle, foreground);
    background-color: sage-color(white);
    // Box shadow instead of border so that size and inner spacing is not affected
    box-shadow: $-label-inset-border sage-color-combo($-color-name, subtle, background);
  }

  #{$-color-modifier}.sage-label--bold .sage-label__value {
    color: sage-color-combo($-color-name, bold, foreground);
    background-color: sage-color-combo($-color-name, bold, background);
  }

  #{$-color-modifier}.sage-label--interactive {
    .sage-label__value {
      padding-right: rem(32px);

      @include sage-focus-outline();
      @include sage-focus-outline--update-color( sage-color-combo($-color-name, default, foreground) );

      &:hover:not(:focus):not(:active):not(:disabled):not(.disabled) {
        color: sage-color-combo($-color-name, bold, foreground-accent);
      }
    }

    .sage-btn:hover {
      background-color: sage-color-combo($-color-name, default, inner-button-background);
    }

    &:hover {
      .sage-label__value {
        background-color: sage-color-combo($-color-name, default, background-accent);
      }

      .sage-btn::before {
        color: sage-color-combo($-color-name, default, foreground-accent);
      }
    }

    .sage-btn {
      display: flex;
      justify-content: center;
      position: absolute;
      right: 0;
      margin: auto 0;
      border-radius: 0 sage-border(radius) sage-border(radius) 0;

      &::before {
        // font-size: rem(8px);
        font-weight: sage-font-weight(bold);
        color: sage-color-combo($-color-name, default, foreground);
      }

      &::after {
        // width: rem(24px);
        // height: rem(24px);
        border-radius: 0 sage-border(radius) sage-border(radius) 0;
      }

      &:focus {
        @include sage-focus-outline--update-color( sage-color-combo($-color-name, default, foreground-accent) );
      }

      &.sage-btn--small {
        width: rem(24px);
        min-height: rem(24px);

        &::before {
          font-size: rem(8px);
        }
  
        &::after {
          width: rem(24px);
          height: rem(24px);
        }

        &.sage-btn--tag::before {
          font-size: rem(16px);
        }
      }
    }
  }

  // .sage-btn & {
  //   &:focus,
  //   &:active {
  //     background-color: inherit;
  //     box-shadow: $-label-inset-border transparent;
  //   }
  // }

  // NOTE: Icon generation consolidated in `core/_icons.scss`
}

// Overwrites for colors that dont exist in color palette specific to this interaction
.sage-label--info.sage-label--interactive .sage-btn:hover {
  background-color: $-label-primary-icon-background-accent;
}

.sage-label--danger.sage-label--interactive .sage-btn:hover {
  background-color: $-label-danger-icon-background-accent;
}

.sage-label--warning.sage-label--interactive:hover .sage-label__value {
  background-color: $-label-warning-background-accent;
}

.sage-label--danger.sage-label--interactive:hover .sage-label__value {
  background-color: $-label-danger-background-accent;
}
