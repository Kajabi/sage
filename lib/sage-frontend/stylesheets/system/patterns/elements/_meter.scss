/* ==================================================
  ** meter
  type: element

================================================== */

$-sage-meter-bar-height: rem(4px);
$-sage-meter-color-bg: sage-color(grey, 200);
$-sage-meter-bar-low: rgba(sage-color(red), 0.9);
$-sage-meter-bar-med: rgba(sage-color(orange), 0.9);
$-sage-meter-bar-success: rgba(sage-color(sage, 200), 0.9);
$-sage-meter-bar-max: rgba(sage-color(sage), 0.9);

@mixin meter-bar-reset {
  height: $-sage-meter-bar-height;
  width: 100%;
  background: $-sage-meter-color-bg;
  border: 0;
}


@mixin meter-bar-value {
  &::-webkit-meter-optimum-value {
    @content;
  }
  &::-moz-meter-bar {
    @content;
  }
}

.sage-meter {
  display: flex;
  position: relative;
}

.sage-meter__label {
  @extend %t-sage-body-xsmall;
  line-height: 1;
}

.sage-meter__bar {
  overflow: hidden;
  width: 100%;
  height: $-sage-meter-bar-height;
  background: $-sage-meter-color-bg;
  border-radius: sage-border(radius);
  border: 0;

  &::-moz-meter-bar {
    @include meter-bar-reset();
  }
  &::-webkit-meter-bar {
    @include meter-bar-reset();
  }

  @include meter-bar-value() {
    background: none;
    transition: $sage-transition;
    transition-property: width;
  }
}

.sage-meter__bar--low {
  @include meter-bar-value() {
    background-color: $-sage-meter-bar-low;
  }
}

.sage-meter__bar--med {
  @include meter-bar-value() {
    background-color: $-sage-meter-bar-med;
  }
}

.sage-meter__bar--optimum {
  @include meter-bar-value() {
    background-color: $-sage-meter-bar-success;
  }
}

.sage-meter__bar--max {
  @include meter-bar-value() {
    background-color: $-sage-meter-bar-max;
  }
}
