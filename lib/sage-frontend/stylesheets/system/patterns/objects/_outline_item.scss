/* ==================================================
  ** outline-item
  type: object


================================================== */
/* stylelint-disable */

$-collapse-breakpoint-key: md-max;

.sage-outline-item {
  background-color: sage-color(white);
  border: sage-border();
  border-radius: sage-border(radius);
  margin-bottom: sage-spacing(md);
  overflow: hidden;

  & & {
    border: unset;
    border-radius: unset;
    margin-bottom: 0;

    &:not(:last-child) {
      border-bottom: sage-border(light);
    }
  }
}

.sage-outline-item__container {
  align-items: center;
  display: grid;
  padding-right: sage-spacing(sm);
  padding-left: sage-spacing(xs);
  background: rgba(green, 0.07);

  @media (min-width: sage-breakpoint($-collapse-breakpoint-key)) {
    grid-template-columns: rem(40px) 1fr min-content rem(160px) rem(92px) rem(40px);
    grid-template-rows: auto;
    grid-column-gap: sage-spacing(sm);
    grid-template-areas: "handle-drag title actions-secondary actions-primary status handle-collapse";

    .sage-outline-item--type-category > & {
      padding-top: sage-spacing(sm);
      padding-bottom: sage-spacing(sm);
    }

    .sage-outline-item--type-post > & {
      padding-top: sage-spacing(xs);
      padding-bottom: sage-spacing(xs);
    }
  }

  @media (max-width: sage-breakpoint($-collapse-breakpoint-key)) {
    grid-template-columns: min-content 1fr min-content min-content;
    grid-template-rows: auto auto;
    grid-row-gap: sage-spacing(sm);
    grid-column-gap: sage-spacing(xs);
    grid-template-areas:
      "handle-drag title status handle-collapse"
      "handle-drag actions-primary actions-secondary handle-collapse";

    .sage-outline-item--type-category > & {
      padding-top: sage-spacing(lg);
      padding-bottom: sage-spacing(lg);
    }

    .sage-outline-item--type-post > & {
      padding-top: sage-spacing(sm);
      padding-bottom: sage-spacing(sm);
    }
  }


  .sage-outline-item .sage-outline-item & {
    padding-left: sage-spacing(md);
    background: rgba(red, 0.07);
  }

  .sage-outline-item .sage-outline-item .sage-outline-item & {
    padding-left: sage-spacing(xl);
    background: rgba(blue, 0.07);
  }
}

.sage-outline-item__title {
  grid-area: title;
  color: sage-color(charcoal, 400);
  @include truncate;

  &:hover,
  &:focus,
  &:active,
  &:focus-within {
    color: sage-color(charcoal, 500);
  }

  .sage-outline-item--type-category & {
    @extend %t-sage-body-semi;
  }

  .sage-outline-item--type-post & {
    @extend %t-sage-body-small-med;
  }
}

.sage-outline-item__actions-secondary {
  display: flex;
  grid-area: actions-secondary;
  flex-direction: row;

  @media (min-width: sage-breakpoint($-collapse-breakpoint-key)) {
    visibility: hidden;

    :hover > &,
    :focus > &,
    :focus-within > & {
      visibility: visible;
    }
  }
}

.sage-outline-item__actions-primary {
  grid-area: actions-primary;
}

.sage-outline-item__status {
  grid-area: status;
  display: flex;
  justify-content: flex-end;
}

.sage-outline-item__handle-drag {
  grid-area: handle-drag;
}

.sage-outline-item__handle-collapse {
  grid-area: handle-collapse;
}

.sage-outline-item__content {
  grid-area: content;

  .sage-outline-item--collapsed > & {
    display: none;
  }
}
/* stylelint-enable */
