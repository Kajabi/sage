/* ==================================================
  ** _tabs.scss
  type: object

================================================== */

.sage-tabs {
  display: flex;
  margin-bottom: sage-spacing(lg);

  &.sage-tabs--radio {
    margin-bottom: $sage-inputfield-spacing;
  }
}

/* stylelint-disable max-nesting-depth */
.sage-tabs__tab {
  @include button-style-reset();
  display: flex;
  position: relative;
  align-items: center;
  overflow: hidden;
  margin: 0 sage-spacing(sm) 0 0;
  white-space: nowrap;
  color: $sage-tabs-default-color;
  transition: color $sage-transition, background-color $sage-transition, box-shadow $sage-transition;

  @extend %t-sage-body-med;

  :not(.sage-tabs--style-radio) > & {
    $item-underline: "::after";

    padding: 0 0 sage-spacing(xs);
    outline: none;

    &#{$item-underline} {
      $spacing-off: 50%;

      content: "";
      position: absolute;
      right: $spacing-off;
      bottom: 0;
      left: $spacing-off;
      height: $sage-tabs-active-border-height;
      background: $sage-tabs-active-border-color;
      border-radius: $sage-tabs-active-border-radius;
      transition: right $sage-transition, left $sage-transition;
    }

    &:hover {
      color: $sage-tabs-active-color;
    }

    &:focus {
      &#{$item-underline} {
        left: 0;
        right: 0;
      }
    }

    &:active,
    &.sage-tabs__tab--active {
      color: $sage-tabs-active-color;

      &#{$item-underline} {
        left: 0;
        right: 0;
      }
    }
  }

  .sage-tabs--style-radio > & {
    $item-radio: "::before";

    flex-grow: 1;
    flex-basis: 0;
    padding: sage-spacing(sm);
    color: $sage-tabs-default-color;
    border: sage-border();
    border-radius: sage-border(radius);

    &#{$item-radio} {
      content: "";
      display: inline-block;
      box-sizing: border-box;
      height: $sage-radio-selected-indicator-size;
      min-width: $sage-radio-selected-indicator-size;
      width: $sage-radio-selected-indicator-size;
      margin: 0 sage-spacing(xs) 0 0;
      background-color: $sage-radio-selected-indicator-color;
      border-radius: sage-border(radius-round);
      border: sage-border();
      transition: border $sage-transition, box-shadow $sage-transition;
    }

    &:hover {
      color: $sage-tabs-active-color;
      background-color: sage-color(grey, 100);

      &#{$item-radio} {
        box-shadow: sage-shadow(sm);
      }
    }

    &:focus {
      outline-color: sage-color(primary);
    }

    &:active,
    &.sage-tabs__tab--active {
      color: $sage-tabs-active-color;

      &#{$item-radio} {
        box-shadow: sage-shadow(sm);
        border-width: 5px;
        border-color: $sage-radio-color-checked;
      }
    }
  }

  &:last-of-type {
    margin-right: 0;
  }
}
/* stylelint-enable max-nesting-depth */

.sage-tabs-pane {
  display: none;
  visibility: hidden;
  margin-bottom: sage-spacing();
}

.sage-tabs-pane--active {
  display: block;
  visibility: visible;
}
