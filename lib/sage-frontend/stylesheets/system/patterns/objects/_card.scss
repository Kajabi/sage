/* ==================================================
  ** card
  type: object


================================================== */

.sage-card {
  border-radius: $sage-card-radius;
  box-shadow: $sage-card-shadow;
  background-color: sage-color(white);

  &:not(:last-child) {
    margin-bottom: sage-spacing();
  }
}

.sage-card--center {
  text-align: center;
}

.sage-card--compact {
  display: grid;
  grid-template-rows: minmax(0, auto) 1fr minmax(0, auto);
  grid-template-areas:
    "img title"
    "img body"
    "img foot";
}

.sage-card--dashed,
.sage-card--dashed-interactive {
  box-shadow: none;

  @include sage-card-dashed-border;
}

.sage-card--dashed-interactive {
  &:hover,
  &.sage-card--hovered {
    @include sage-card-dashed-border($color: sage-color(grey, 500), $thickness: 2);
  }
}

.sage-card--flat {
  box-shadow: none;
  border: 1px solid sage-color(grey, 400);
}

.sage-card--spaced {
  padding: $sage-card-spacing;
}

.sage-card__body {
  flex: 1;
  grid-area: body;
  padding: $sage-card-spacing;

  .sage-card--null & {
    padding-top: $sage-card-spacing-2xl;
    padding-bottom: $sage-card-spacing-2xl;
  }

  .sage-card--spaced & {
    padding: 0;
  }

  .sage-card--center & {
    max-width: sage-container(modal);
    margin-left: auto;
    margin-right: auto;
  }

  .sage-card--spaced.sage-card--compact & {
    padding: 0 $sage-card-spacing;
  }

  &:last-child {
    margin-bottom: 0;
  }
}

.sage-card__footer {
  display: flex;
  grid-area: foot;
  align-items: center;
  justify-content: space-between;
  padding: 0 $sage-card-spacing $sage-card-spacing;

  > *:not(:last-child) {
    margin-right: rem(16px);
  }

  .sage-card--spaced & {
    padding: $sage-card-spacing 0 0;
  }

  .sage-card--spaced.sage-card--compact & {
    padding: $sage-card-spacing 0 0 $sage-card-spacing;
  }
}

.sage-card__footer--align-left {
  justify-content: flex-start;
}

.sage-card__footer--align-right {
  justify-content: flex-end;
}

.sage-card__title {
  grid-area: title;
  margin: 0 0 rem(16px) 0;
  word-wrap: break-word;
}

.sage-card__text {
  margin-bottom: rem(16px);
  color: $sage-card-text-color;
  word-wrap: break-word;
}

.sage-card__img {
  display: flex;
  align-items: center;
  justify-content: center;
  grid-area: img;
  overflow: hidden;
  width: 100%;
  border-radius: $sage-card-radius $sage-card-radius 0 0;

  .sage-card--compact & {
    max-width: rem(216px);
    border-radius: $sage-card-radius 0 0 $sage-card-radius;
  }

  .sage-card--spaced & {
    margin: 0 0 $sage-card-spacing 0;
    border-radius: $sage-card-radius;
  }

  .sage-card--spaced.sage-card--compact & {
    max-width: rem(160px);
    margin: 0;
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
}

@media (max-width: sage-breakpoint()) {
  .sage-card__img {
    width: 100%;
    min-width: 100%;

    .sage-card--compact & {
      border-radius: $sage-card-radius $sage-card-radius 0 0;
    }

    .sage-card--spaced.sage-card--compact & {
      border-radius: $sage-card-radius;
    }
  }

  .sage-card--compact {
    display: block;
  }

  .sage-card__body {
    .sage-card--spaced.sage-card--compact & {
      padding: $sage-card-spacing 0;
    }
  }

  .sage-card__footer {
    .sage-card--compact & {
      padding: 0 $sage-card-spacing $sage-card-spacing;
    }
    .sage-card--spaced.sage-card--compact &  {
      padding: 0;
    }
  }
}
