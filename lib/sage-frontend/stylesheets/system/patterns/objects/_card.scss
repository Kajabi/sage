/* ==================================================
  ** card
  type: object


================================================== */

@mixin sage-card-dashed-border($thickness: 1, $color: sage-color(grey, 400), $dash: 4.5, $gap: 4.5, $offset: 4.5, $border-radius: 4) {
  $stripped-color-value: str-replace("#{$color}", "#");
  background-image: url("data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='#{$border-radius}' ry='#{$border-radius}' stroke='%23#{$stripped-color-value}' stroke-width='#{$thickness * 2}' stroke-dasharray='#{$dash}%2c#{$gap + $thickness * 4}' stroke-dashoffset='#{$offset}' stroke-linecap='square'/%3e%3c/svg%3e");
}

.sage-card {
  margin: 0 0 sage-spacing(lg) 0;
  border-radius: $sage-card-radius;
  box-shadow: $sage-card-shadow;
  background-color: sage-color(white);
}

.sage-card--flat {
  box-shadow: none;
  border: 1px solid sage-color(grey, 400);
}

.sage-card--dashed,
.sage-card--dashed-interactive {
  box-shadow: none;

  @include sage-card-dashed-border;
}

.sage-card--dashed-interactive {
  &:hover,
  &.sage-card--hovered {
    @include sage-card-dashed-border($color: sage-color(grey, 500), $thickness: 2);
  }
}

.sage-card__body {
  flex: 1;
  padding: $sage-card-spacing;

  .sage-card--null & {
    padding-top: $sage-card-spacing-2xl;
    padding-bottom: $sage-card-spacing-2xl;
  }

  .sage-card--spaced & {
    padding: 0;
  }

  .sage-card--center & {
    max-width: sage-container(modal);
    margin-left: auto;
    margin-right: auto;
  }

  .sage-card--spaced.sage-card--compact & {
    padding: 0 $sage-card-spacing;
  }

  &:last-child {
    margin-bottom: 0;
  }
}

.sage-card__footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: rem(24px);

  > *:not(:last-child) {
    margin-right: rem(16px);
  }
}

.sage-card__footer--align-left {
  justify-content: flex-start;
}

.sage-card__footer--align-right {
  justify-content: flex-start;
}

.sage-card__title {
  margin: 0 0 rem(16px) 0;
  word-wrap: break-word;
}

.sage-card__text {
  margin-bottom: rem(16px);
  color: $sage-card-text-color;
  word-wrap: break-word;
}

.sage-card__img {
  width: 100%;
  border-radius: $sage-card-radius $sage-card-radius 0 0;
  .sage-card--compact & {
    max-width: rem(216px);
    height: auto;
    border-radius: $sage-card-radius 0 0 $sage-card-radius;
  }
  .sage-card--spaced & {
    margin: 0 0 $sage-card-spacing 0;
    border-radius: $sage-card-radius;
  }
  .sage-card--spaced.sage-card--compact & {
    max-width: rem(160px);
    margin: 0;
  }
}

.sage-card--center {
  text-align: center;
}

.sage-card--compact {
  display: flex;
  flex: none;
  flex-direction: row;
}

.sage-card--spaced {
  align-items: center;
  padding: $sage-card-spacing;
}

@media (max-width: sage-breakpoint()) {
  .sage-card__img {
    width: 100%;
    min-width: 100%;
    .sage-card--compact & {
      border-radius: $sage-card-radius $sage-card-radius 0 0;
    }
    .sage-card--spaced.sage-card--compact & {
      border-radius: $sage-card-radius;
    }
  }
  .sage-card--compact {
    flex-wrap: wrap;
  }
  .sage-card__body {
    .sage-card--spaced.sage-card--compact & {
      padding: $sage-card-spacing 0;
    }
  }
}
