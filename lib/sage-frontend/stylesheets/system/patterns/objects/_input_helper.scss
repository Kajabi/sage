/* ==================================================
  ** sage-input-helper
  type: object

================================================== */

$-sage-helper-min-height: 5em;
$-sage-helper-max-width: rem(320px);
$-sage-helper-padding: sage-spacing(sm);
$-sage-helper-pointer-size: rem(12px);
$-sage-helper-color-bg: sage-color(charcoal, 400);
$-sage-helper-color-text: sage-color(white);
$-sage-helper-color-list-default: sage-color(grey, 200);
$-sage-helper-color-list-success: sage-color(grey, 500);
$-sage-helper-decoration-list-success: line-through;


@mixin input-helper-visible() {
  z-index: sage-z_index(raised);
  top: calc(100% + #{$-sage-helper-pointer-size});
  opacity: 1;
}

.sage-input-helper {
  @extend %t-sage-body-small;

  position: absolute;
  z-index: sage-z_index(negative);
  transform: translateX(-50%);
  left: 50%;
  width: 100%;
  max-width: $-sage-helper-max-width;
  min-height: $-sage-helper-min-height;
  padding: $-sage-helper-padding;
  color: $-sage-helper-color-text;
  background-color: $-sage-helper-color-bg;
  border-radius: sage-border(radius);
  box-shadow: sage-shadow(md);
  transition: $sage-transition;
  transition-property: opacity;
  pointer-events: none;
  opacity: 0;

  &::before {
    content: "";
    display: block;
    position: absolute;
    top: -#{$-sage-helper-pointer-size};
    left: 50%;
    transform: translateX(-50%);
    border-left: $-sage-helper-pointer-size solid transparent;
    border-right: $-sage-helper-pointer-size solid transparent;
    border-bottom: $-sage-helper-pointer-size solid $-sage-helper-color-bg;
  }

  .sage-input:focus-within ~ & {
    @include input-helper-visible();
  }

  // Separated from above rule due to Edge
  .sage-input:active ~ & {
    @include input-helper-visible();
  }
}

// fallback using JS on IE, since :focus-within is not supported
.sage-input-helper--visible {
  @include input-helper-visible();
}

.sage-hint__description {
  margin-bottom: sage-spacing(xs);
}

.sage-hint__list {
  margin-bottom: sage-spacing(sm);
  padding-left: sage-spacing(sm);
  color: $-sage-helper-color-list-default;
}

.sage-hint__list-item {
  position: relative;
  transition: $sage-transition;
  transition-property: color;
}

.sage-hint__list-item--success {
  color: $-sage-helper-color-list-success;
  text-decoration: $-sage-helper-decoration-list-success;
}

