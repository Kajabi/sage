// ==================================================
// Variables
// ==================================================

$sage-icon-font-path: "../../fonts/sage" !default;
$sage-icon-background-color: #eee !default;
$sage-icon-li-margin-right: 0.4em !default;


// ==================================================
// Font setup
// ==================================================

@font-face {
  font-family: "Sage";
  src: url("#{$sage-icon-font-path}/Sage.eot");
  src: url("#{$sage-icon-font-path}/Sage.eot") format("embedded-opentype"),
    url("#{$sage-icon-font-path}/Sage.woff") format("woff"),
    url("#{$sage-icon-font-path}/Sage.ttf") format("truetype"),
    url("#{$sage-icon-font-path}/Sage.svg") format("svg");
  font-weight: normal;
  font-style: normal;
  font-display: block;
}


// ==================================================
// Mixins
// ==================================================

@mixin sage-icon-rotate($degrees, $rotation) {
  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=#{$rotation});
  transform: rotate($degrees);
}

@mixin sage-icon-flip($horiz, $vert, $rotation) {
  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=#{$rotation});
  transform: scale($horiz, $vert);
}


// ==================================================
// Base class definition
// ==================================================

%sage-icon-extensions {
  &.is-spinning {
    animation: sage-icon-spin 2s infinite linear;
  }

  &.rotate-90 {
    @include sage-icon-rotate(90deg, 1);
  }

  &.rotate-180 {
    @include sage-icon-rotate(180deg, 2);
  }

  &.rotate-270 {
    @include sage-icon-rotate(270deg, 3);
  }

  &.flip-y {
    @include sage-icon-flip(-1, 1, 0);
  }

  &.flip-x {
    @include sage-icon-flip(1, -1, 2);
  }
}

// Build icons as `sage-icon-icon-name` based on the map in `tokens/_icon`
@each $icon-name, $icon-code in $sage-icons {
  @each $size-name, $size in $sage-icon-sizes {
    $suffix: "-#{$size-name}";

    @if $size-name == md {
      $suffix: "";
    }

    .sage-icon-#{$icon-name}#{$suffix}::before {
      width: $size;
      height: $size;
      font-size: $size;
      line-height: $size;
      @include icon-base($icon-name, $size-name);
      @extend %sage-icon-extensions;
    }
  }
}

@keyframes sage-icon-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
